  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.6ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (1.4ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.2ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (35.7ms)[0m  INSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)  [["created_at", Sun, 09 Feb 2014 18:25:10 UTC +00:00], ["password_digest", "$2a$04$OvXU.vaXYJa9KLW7aDH0guk4ivF1sLzwd0NCfVIDGwviC54NFxR4e"], ["updated_at", Sun, 09 Feb 2014 18:25:10 UTC +00:00], ["username", "Pekka"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT 1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.3ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)  [["created_at", Sun, 09 Feb 2014 18:25:10 UTC +00:00], ["password_digest", "$2a$04$QBBpBudIlyKhZ.vYfh5OhuiYhcGiT5Cj2wEj.3eZ1Powk2DHZUGku"], ["updated_at", Sun, 09 Feb 2014 18:25:10 UTC +00:00], ["username", "Pekka"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (10.9ms)[0m  [1mINSERT INTO "ratings" ("created_at", "score", "updated_at", "user_id") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 09 Feb 2014 18:25:10 UTC +00:00], ["score", 10], ["updated_at", Sun, 09 Feb 2014 18:25:10 UTC +00:00], ["user_id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "ratings" ("created_at", "score", "updated_at", "user_id") VALUES (?, ?, ?, ?)  [["created_at", Sun, 09 Feb 2014 18:25:10 UTC +00:00], ["score", 20], ["updated_at", Sun, 09 Feb 2014 18:25:10 UTC +00:00], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (14.3ms)[0m  INSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)  [["created_at", Sun, 09 Feb 2014 18:53:36 UTC +00:00], ["password_digest", "$2a$04$pLIVg.f/eniM0IDjVU0NEek6BLN0XOE1EB/SFI03RmyuwVzYtpnTC"], ["updated_at", Sun, 09 Feb 2014 18:53:36 UTC +00:00], ["username", "Pekka"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO "ratings" ("created_at", "score", "updated_at", "user_id") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 09 Feb 2014 18:53:36 UTC +00:00], ["score", 10], ["updated_at", Sun, 09 Feb 2014 18:53:36 UTC +00:00], ["user_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "ratings" ("created_at", "score", "updated_at", "user_id") VALUES (?, ?, ?, ?)  [["created_at", Sun, 09 Feb 2014 18:53:36 UTC +00:00], ["score", 20], ["updated_at", Sun, 09 Feb 2014 18:53:36 UTC +00:00], ["user_id", 1]]
  [1m[36m (0.6ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (2.7ms)[0m  [1mINSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 09 Feb 2014 18:53:36 UTC +00:00], ["password_digest", "$2a$04$atWwLtBUz0i9Q0HAQ/K4i.cE8x0ULWymyxrgLv1cAagc2NOFyhDna"], ["updated_at", Sun, 09 Feb 2014 18:53:36 UTC +00:00], ["username", "Pekka"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (1.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.9ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (19.0ms)[0m  INSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)  [["created_at", Sun, 09 Feb 2014 19:11:14 UTC +00:00], ["password_digest", "$2a$04$G1xBlGY/zll6K88lX.WvfeYH6W4g/dtzi.JvsQC75qX0w65eU6Wki"], ["updated_at", Sun, 09 Feb 2014 19:11:14 UTC +00:00], ["username", "Pekka"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT 1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (10.1ms)[0m  [1mINSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 09 Feb 2014 19:49:51 UTC +00:00], ["password_digest", "$2a$04$bSkB8qqSbckroN1vNkg7IeyXuNdDX3HET69XhCgxqVKCWvtZZHrLq"], ["updated_at", Sun, 09 Feb 2014 19:49:51 UTC +00:00], ["username", "Pekka"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.7ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 09 Feb 2014 19:49:51 UTC +00:00], ["password_digest", "$2a$04$2oFsYcfuFGFSzk9iCHtt9OzJy1l58gs43/F00CdSRt2MLetnpMd1W"], ["updated_at", Sun, 09 Feb 2014 19:49:51 UTC +00:00], ["username", "Pekka"]]
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.0ms)[0m  INSERT INTO "ratings" ("created_at", "score", "updated_at", "user_id") VALUES (?, ?, ?, ?)  [["created_at", Sun, 09 Feb 2014 19:49:51 UTC +00:00], ["score", 10], ["updated_at", Sun, 09 Feb 2014 19:49:51 UTC +00:00], ["user_id", 1]]
  [1m[36m (1.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "ratings" ("created_at", "score", "updated_at", "user_id") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 09 Feb 2014 19:49:51 UTC +00:00], ["score", 20], ["updated_at", Sun, 09 Feb 2014 19:49:51 UTC +00:00], ["user_id", 1]]
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mRating Load (0.3ms)[0m  SELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (10.9ms)[0m  [1mINSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 09 Feb 2014 19:50:22 UTC +00:00], ["password_digest", "$2a$04$f9I7Uk.jECdhsLqaofKdy.rPYJBXzb44ZWtvMbecx0Vn9mF7QyU6G"], ["updated_at", Sun, 09 Feb 2014 19:50:22 UTC +00:00], ["username", "Pekka"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (1.6ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (1.7ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (4.6ms)[0m  [1mINSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 09 Feb 2014 19:50:22 UTC +00:00], ["password_digest", "$2a$04$/IkkUvvOmkzNBcoivQJvle5zGU3ICHKcxb2ScUy2HLlKr6BaAOG9i"], ["updated_at", Sun, 09 Feb 2014 19:50:22 UTC +00:00], ["username", "Pekka"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "ratings" ("created_at", "score", "updated_at", "user_id") VALUES (?, ?, ?, ?)  [["created_at", Sun, 09 Feb 2014 19:50:22 UTC +00:00], ["score", 10], ["updated_at", Sun, 09 Feb 2014 19:50:22 UTC +00:00], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "ratings" ("created_at", "score", "updated_at", "user_id") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 09 Feb 2014 19:50:22 UTC +00:00], ["score", 20], ["updated_at", Sun, 09 Feb 2014 19:50:22 UTC +00:00], ["user_id", 1]]
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mRating Load (0.3ms)[0m  SELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBeer Exists (0.3ms)[0m  SELECT 1 AS one FROM "beers" WHERE "beers"."name" IS NULL LIMIT 1
  [1m[36m (0.4ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mBeer Exists (0.3ms)[0m  SELECT 1 AS one FROM "beers" WHERE "beers"."name" IS NULL LIMIT 1
  [1m[36m (1.9ms)[0m  [1mSELECT COUNT(*) FROM "beers"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mBeer Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "beers" WHERE "beers"."name" = 'isoIII' LIMIT 1[0m
  [1m[35mSQL (12.7ms)[0m  INSERT INTO "beers" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sun, 09 Feb 2014 19:57:52 UTC +00:00], ["name", "isoIII"], ["updated_at", Sun, 09 Feb 2014 19:57:52 UTC +00:00]]
  [1m[36m (5.8ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBeer Exists (2.2ms)[0m  SELECT 1 AS one FROM "beers" WHERE ("beers"."name" = 'isoIII' AND "beers"."id" != 1) LIMIT 1
  [1m[36m (2.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (3.3ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (5.5ms)[0m  [1mINSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 09 Feb 2014 19:57:52 UTC +00:00], ["password_digest", "$2a$04$z9t9JLLVfBoq7VdxqI/pEueEeqbBlDGkq.n04j3fTAkdc02FJ/9Fi"], ["updated_at", Sun, 09 Feb 2014 19:57:52 UTC +00:00], ["username", "Pekka"]]
  [1m[35m (1.5ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (3.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (5.3ms)[0m  [1mINSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 09 Feb 2014 19:57:52 UTC +00:00], ["password_digest", "$2a$04$0WtmprytrSzB5.anf.BiF.eYL23yTejjnCLwzmujK0eZXnuRc7ai2"], ["updated_at", Sun, 09 Feb 2014 19:57:52 UTC +00:00], ["username", "Pekka"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "ratings" ("created_at", "score", "updated_at", "user_id") VALUES (?, ?, ?, ?)  [["created_at", Sun, 09 Feb 2014 19:57:52 UTC +00:00], ["score", 10], ["updated_at", Sun, 09 Feb 2014 19:57:52 UTC +00:00], ["user_id", 1]]
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.9ms)[0m  [1mINSERT INTO "ratings" ("created_at", "score", "updated_at", "user_id") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 09 Feb 2014 19:57:52 UTC +00:00], ["score", 20], ["updated_at", Sun, 09 Feb 2014 19:57:52 UTC +00:00], ["user_id", 1]]
  [1m[35m (3.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mRating Load (0.3ms)[0m  SELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (7.7ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBeer Exists (0.3ms)[0m  SELECT 1 AS one FROM "beers" WHERE "beers"."name" IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mBeer Exists (0.8ms)[0m  SELECT 1 AS one FROM "beers" WHERE "beers"."name" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "beers"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBeer Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM "beers" WHERE "beers"."name" = 'isoIII' LIMIT 1[0m
  [1m[35mSQL (3.8ms)[0m  INSERT INTO "beers" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sun, 09 Feb 2014 19:59:48 UTC +00:00], ["name", "isoIII"], ["updated_at", Sun, 09 Feb 2014 19:59:48 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "beers"
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (4.0ms)[0m  [1mINSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 09 Feb 2014 19:59:48 UTC +00:00], ["password_digest", "$2a$04$UpGc74XJc9neAQCZWTc1lu1xs/zAY/C0emE65aI6GJO8GjMQDsPim"], ["updated_at", Sun, 09 Feb 2014 19:59:48 UTC +00:00], ["username", "Pekka"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 09 Feb 2014 19:59:48 UTC +00:00], ["password_digest", "$2a$04$iEpF9gJqizyc7XgbKlbmx.jfXH4W6uryO5x4BRLKJ38p5y7xJR9xC"], ["updated_at", Sun, 09 Feb 2014 19:59:48 UTC +00:00], ["username", "Pekka"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.3ms)[0m  INSERT INTO "ratings" ("created_at", "score", "updated_at", "user_id") VALUES (?, ?, ?, ?)  [["created_at", Sun, 09 Feb 2014 19:59:48 UTC +00:00], ["score", 10], ["updated_at", Sun, 09 Feb 2014 19:59:48 UTC +00:00], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "ratings" ("created_at", "score", "updated_at", "user_id") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 09 Feb 2014 19:59:48 UTC +00:00], ["score", 20], ["updated_at", Sun, 09 Feb 2014 19:59:48 UTC +00:00], ["user_id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mRating Load (0.6ms)[0m  SELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBeer Exists (0.4ms)[0m  SELECT 1 AS one FROM "beers" WHERE "beers"."name" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mBeer Exists (0.3ms)[0m  SELECT 1 AS one FROM "beers" WHERE "beers"."name" IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "beers"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mBeer Exists (0.6ms)[0m  [1mSELECT 1 AS one FROM "beers" WHERE "beers"."name" = 'isoIII' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mBeer Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM "beers" WHERE "beers"."name" = 'isoIII' LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM "beers"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (4.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36m (0.9ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.2ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (5.9ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (4.6ms)[0m  [1mINSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 09 Feb 2014 20:01:22 UTC +00:00], ["password_digest", "$2a$04$YEMqSnwOUu3auIkZCcCeEuUIa6.5fz/NFBrRRi.pssi2WTZgX0PWi"], ["updated_at", Sun, 09 Feb 2014 20:01:22 UTC +00:00], ["username", "Pekka"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 09 Feb 2014 20:01:22 UTC +00:00], ["password_digest", "$2a$04$CqJekS1hOv7ejk2xzABbCOBcD/DWzXEzHshYm..9YBQ5K0t.c7Fxe"], ["updated_at", Sun, 09 Feb 2014 20:01:22 UTC +00:00], ["username", "Pekka"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "ratings" ("created_at", "score", "updated_at", "user_id") VALUES (?, ?, ?, ?)  [["created_at", Sun, 09 Feb 2014 20:01:22 UTC +00:00], ["score", 10], ["updated_at", Sun, 09 Feb 2014 20:01:22 UTC +00:00], ["user_id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "ratings" ("created_at", "score", "updated_at", "user_id") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 09 Feb 2014 20:01:22 UTC +00:00], ["score", 20], ["updated_at", Sun, 09 Feb 2014 20:01:22 UTC +00:00], ["user_id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mRating Load (0.6ms)[0m  SELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (2.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBeer Exists (0.6ms)[0m  SELECT 1 AS one FROM "beers" WHERE "beers"."name" = 'isoIII' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mBeer Exists (0.2ms)[0m  SELECT 1 AS one FROM "beers" WHERE "beers"."name" = 'isoIII' LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "beers"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (1.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mBeer Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM "beers" WHERE "beers"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mBeer Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "beers" WHERE "beers"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "beers"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (5.5ms)[0m  INSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)  [["created_at", Sun, 09 Feb 2014 20:26:28 UTC +00:00], ["password_digest", "$2a$04$mnrVJBTk9bap0qzkHlI8PugS5HvC/IfkCIno7MWK7EyEdikAP3ZIm"], ["updated_at", Sun, 09 Feb 2014 20:26:28 UTC +00:00], ["username", "Pekka"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 09 Feb 2014 20:26:28 UTC +00:00], ["password_digest", "$2a$04$ebAr/QmWjgWkPAsych4qbeAJsVM6F3xeh7zYHYFGw9F/DqE0do4Ue"], ["updated_at", Sun, 09 Feb 2014 20:26:28 UTC +00:00], ["username", "Pekka"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 09 Feb 2014 20:26:28 UTC +00:00], ["password_digest", "$2a$04$wgTU75M5mBW67ATfRusMEuOWKhrZ/ZRx6uF5T9S89KqvplcwWV2Ty"], ["updated_at", Sun, 09 Feb 2014 20:26:28 UTC +00:00], ["username", "Pekka"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "ratings" ("created_at", "score", "updated_at") VALUES (?, ?, ?)  [["created_at", Sun, 09 Feb 2014 20:26:28 UTC +00:00], ["score", 10], ["updated_at", Sun, 09 Feb 2014 20:26:28 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (17.3ms)[0m  [1mUPDATE "ratings" SET "user_id" = ?, "updated_at" = ? WHERE "ratings"."id" = 1[0m  [["user_id", 1], ["updated_at", Sun, 09 Feb 2014 20:26:28 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "ratings" ("created_at", "score", "updated_at") VALUES (?, ?, ?)  [["created_at", Sun, 09 Feb 2014 20:26:28 UTC +00:00], ["score", 20], ["updated_at", Sun, 09 Feb 2014 20:26:28 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "ratings" SET "user_id" = ?, "updated_at" = ? WHERE "ratings"."id" = 2[0m  [["user_id", 1], ["updated_at", Sun, 09 Feb 2014 20:26:28 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mRating Load (0.3ms)[0m  SELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (1.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBeer Exists (0.4ms)[0m  SELECT 1 AS one FROM "beers" WHERE "beers"."name" = 'isoIII' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mBeer Exists (0.3ms)[0m  SELECT 1 AS one FROM "beers" WHERE "beers"."name" = 'isoIII' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "beers"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBeer Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "beers" WHERE "beers"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mBeer Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "beers" WHERE "beers"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "beers"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (1.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.5ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (6.8ms)[0m  [1mINSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 09 Feb 2014 20:27:44 UTC +00:00], ["password_digest", "$2a$04$wcENLUT1C.EfKvZ2vcQxauUnGN4a75/Lk6PoRD48/m61fyYu7HnFS"], ["updated_at", Sun, 09 Feb 2014 20:27:44 UTC +00:00], ["username", "Pekka"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (1.4ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 09 Feb 2014 20:27:44 UTC +00:00], ["password_digest", "$2a$04$Yy/0zNG/TSXwec53vpqul.jWpBlNDj3QG0E00GXd1kqmVqZkQKfii"], ["updated_at", Sun, 09 Feb 2014 20:27:44 UTC +00:00], ["username", "Pekka"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "ratings" ("created_at", "score", "updated_at") VALUES (?, ?, ?)  [["created_at", Sun, 09 Feb 2014 20:27:44 UTC +00:00], ["score", 10], ["updated_at", Sun, 09 Feb 2014 20:27:44 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mUPDATE "ratings" SET "user_id" = ?, "updated_at" = ? WHERE "ratings"."id" = 1[0m  [["user_id", 1], ["updated_at", Sun, 09 Feb 2014 20:27:44 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "ratings" ("created_at", "score", "updated_at") VALUES (?, ?, ?)  [["created_at", Sun, 09 Feb 2014 20:27:44 UTC +00:00], ["score", 20], ["updated_at", Sun, 09 Feb 2014 20:27:44 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "ratings" SET "user_id" = ?, "updated_at" = ? WHERE "ratings"."id" = 2[0m  [["user_id", 1], ["updated_at", Sun, 09 Feb 2014 20:27:44 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mRating Load (0.2ms)[0m  SELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)  [["created_at", Sun, 09 Feb 2014 20:27:44 UTC +00:00], ["password_digest", "$2a$04$Q/wEW7bU0OkmQk6/6.PsYuVK3r3tYx5WZr7om2ewadusv51vJ9/ZC"], ["updated_at", Sun, 09 Feb 2014 20:27:44 UTC +00:00], ["username", "Pekka"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.5ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (5.2ms)[0m  INSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)  [["created_at", Sun, 09 Feb 2014 20:27:44 UTC +00:00], ["password_digest", "$2a$04$w0GklPflf91vu8AZzAkwYeJeYwP3UwbquQynq18kxbu5txvKc6vJe"], ["updated_at", Sun, 09 Feb 2014 20:27:44 UTC +00:00], ["username", "Pekka"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  begin transaction
  [1m[36m (11.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBrewery Exists (0.5ms)[0m  SELECT 1 AS one FROM "breweries" WHERE "breweries"."name" = 'Koff' LIMIT 1
  [1m[36mSQL (107.7ms)[0m  [1mINSERT INTO "breweries" ("created_at", "name", "updated_at", "year") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 16 Feb 2014 15:54:05 UTC +00:00], ["name", "Koff"], ["updated_at", Sun, 16 Feb 2014 15:54:05 UTC +00:00], ["year", 1900]]
  [1m[35m (0.6ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBeer Exists (10.9ms)[0m  SELECT 1 AS one FROM "beers" WHERE "beers"."name" = 'iso 3' LIMIT 1
  [1m[36mSQL (21.9ms)[0m  [1mINSERT INTO "beers" ("brewery_id", "created_at", "name", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["brewery_id", 1], ["created_at", Sun, 16 Feb 2014 15:54:06 UTC +00:00], ["name", "iso 3"], ["style", "Lager"], ["updated_at", Sun, 16 Feb 2014 15:54:06 UTC +00:00]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBeer Exists (0.3ms)[0m  SELECT 1 AS one FROM "beers" WHERE "beers"."name" = 'Karhu' LIMIT 1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "beers" ("brewery_id", "created_at", "name", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["brewery_id", 1], ["created_at", Sun, 16 Feb 2014 15:54:06 UTC +00:00], ["name", "Karhu"], ["style", "Lager"], ["updated_at", Sun, 16 Feb 2014 15:54:06 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.1ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (5.2ms)[0m  [1mINSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 16 Feb 2014 15:54:06 UTC +00:00], ["password_digest", "$2a$04$CGqhF14kwY3opqxZ8wZREe0NiyXpWRKAdHM3ZeIRlFYlgYcxiBlF."], ["updated_at", Sun, 16 Feb 2014 15:54:06 UTC +00:00], ["username", "Pekka"]]
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/signin" for 127.0.0.1 at 2014-02-16 17:54:06 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.erb within layouts/application (14.0ms)
Completed 200 OK in 2513ms (Views: 2443.1ms | ActiveRecord: 0.0ms)
Started POST "/sessions" for 127.0.0.1 at 2014-02-16 17:54:09 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"Pekka", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
Redirected to http://www.example.com/users/1
Completed 302 Found in 31ms (ActiveRecord: 0.4ms)
Started GET "/users/1" for 127.0.0.1 at 2014-02-16 17:54:09 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "memeberships" WHERE "memeberships"."user_id" = ?  [["user_id", 1]]
  [1m[36mRating Exists (0.9ms)[0m  [1mSELECT 1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Load (0.4ms)[0m  SELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (142.3ms)
  [1m[35mCACHE (1.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 181ms (Views: 169.7ms | ActiveRecord: 6.0ms)
Started GET "/ratings/new" for 127.0.0.1 at 2014-02-16 17:54:09 +0200
Processing by RatingsController#new as HTML
  [1m[35mBeer Load (1.6ms)[0m  SELECT "beers".* FROM "beers"
  [1m[36mBrewery Load (0.5ms)[0m  [1mSELECT "breweries".* FROM "breweries" WHERE "breweries"."id" = ? ORDER BY "breweries"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.7ms)[0m  SELECT "breweries".* FROM "breweries" WHERE "breweries"."id" = ? ORDER BY "breweries"."id" ASC LIMIT 1  [["id", 1]]
  Rendered ratings/new.erb within layouts/application (278.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 307ms (Views: 298.6ms | ActiveRecord: 3.2ms)
  [1m[36m (1.0ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
Started POST "/ratings" for 127.0.0.1 at 2014-02-16 17:54:10 +0200
Processing by RatingsController#create as HTML
  Parameters: {"utf8"=>"✓", "rating"=>{"beer_id"=>"1", "score"=>"15"}, "commit"=>"Create Rating"}
  [1m[35mUser Load (0.9ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.7ms)[0m  INSERT INTO "ratings" ("beer_id", "created_at", "score", "updated_at") VALUES (?, ?, ?, ?)  [["beer_id", 1], ["created_at", Sun, 16 Feb 2014 15:54:10 UTC +00:00], ["score", 15], ["updated_at", Sun, 16 Feb 2014 15:54:10 UTC +00:00]]
  [1m[36m (1.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.7ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (3.3ms)[0m  UPDATE "ratings" SET "user_id" = ?, "updated_at" = ? WHERE "ratings"."id" = 1  [["user_id", 1], ["updated_at", Sun, 16 Feb 2014 15:54:10 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 40ms (ActiveRecord: 9.6ms)
Started GET "/users/1" for 127.0.0.1 at 2014-02-16 17:54:10 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "memeberships" WHERE "memeberships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mRating Exists (1.1ms)[0m  SELECT 1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mCACHE (2.6ms)[0m  [1mSELECT 1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Load (0.5ms)[0m  SELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ? ORDER BY "ratings"."score" DESC LIMIT 1  [["user_id", 1]]
  Rendered users/show.html.erb within layouts/application (64.2ms)
Completed 500 Internal Server Error in 70ms
  [1m[36m (3.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBrewery Exists (4.5ms)[0m  SELECT 1 AS one FROM "breweries" WHERE "breweries"."name" = 'Koff' LIMIT 1
  [1m[36mSQL (2.4ms)[0m  [1mINSERT INTO "breweries" ("created_at", "name", "updated_at", "year") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 16 Feb 2014 15:54:10 UTC +00:00], ["name", "Koff"], ["updated_at", Sun, 16 Feb 2014 15:54:10 UTC +00:00], ["year", 1900]]
  [1m[35m (1.6ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBeer Exists (3.5ms)[0m  SELECT 1 AS one FROM "beers" WHERE "beers"."name" = 'iso 3' LIMIT 1
  [1m[36mSQL (4.8ms)[0m  [1mINSERT INTO "beers" ("brewery_id", "created_at", "name", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["brewery_id", 1], ["created_at", Sun, 16 Feb 2014 15:54:10 UTC +00:00], ["name", "iso 3"], ["style", "Lager"], ["updated_at", Sun, 16 Feb 2014 15:54:10 UTC +00:00]]
  [1m[35m (1.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBeer Exists (0.9ms)[0m  SELECT 1 AS one FROM "beers" WHERE "beers"."name" = 'Karhu' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "beers" ("brewery_id", "created_at", "name", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["brewery_id", 1], ["created_at", Sun, 16 Feb 2014 15:54:10 UTC +00:00], ["name", "Karhu"], ["style", "Lager"], ["updated_at", Sun, 16 Feb 2014 15:54:10 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.8ms)[0m  [1mINSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 16 Feb 2014 15:54:10 UTC +00:00], ["password_digest", "$2a$04$.MkXkfTDFQg7ZvBo2K4gRuyFdCVATUNjkuh0kSzl/R8PVxgG1x7ai"], ["updated_at", Sun, 16 Feb 2014 15:54:10 UTC +00:00], ["username", "Pekka"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/signin" for 127.0.0.1 at 2014-02-16 17:54:10 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.erb within layouts/application (1.0ms)
Completed 200 OK in 18ms (Views: 16.2ms | ActiveRecord: 0.0ms)
Started POST "/sessions" for 127.0.0.1 at 2014-02-16 17:54:10 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"Pekka", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (1.9ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
Redirected to http://www.example.com/users/1
Completed 302 Found in 11ms (ActiveRecord: 1.9ms)
Started GET "/users/1" for 127.0.0.1 at 2014-02-16 17:54:10 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "memeberships" WHERE "memeberships"."user_id" = ?  [["user_id", 1]]
  [1m[36mRating Exists (0.7ms)[0m  [1mSELECT 1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Load (0.1ms)[0m  SELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (16.5ms)
  [1m[35mCACHE (1.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 32ms (Views: 25.4ms | ActiveRecord: 2.5ms)
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."username" = 'Arto' LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (2.0ms)[0m  INSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)  [["created_at", Sun, 16 Feb 2014 15:54:10 UTC +00:00], ["password_digest", "$2a$04$IMPg16.fNHksDvB7Aag6V.ZYjrByGdTe/jgWcivSZlUIxbxgvqvTq"], ["updated_at", Sun, 16 Feb 2014 15:54:10 UTC +00:00], ["username", "Arto"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mBrewery Exists (0.6ms)[0m  [1mSELECT 1 AS one FROM "breweries" WHERE "breweries"."name" = 'Koff' LIMIT 1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "breweries" ("created_at", "name", "updated_at", "year") VALUES (?, ?, ?, ?)  [["created_at", Sun, 16 Feb 2014 15:54:10 UTC +00:00], ["name", "Koff"], ["updated_at", Sun, 16 Feb 2014 15:54:10 UTC +00:00], ["year", 1900]]
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mBeer Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "beers" WHERE "beers"."name" = 'iso 3' LIMIT 1[0m
  [1m[35mSQL (1.6ms)[0m  INSERT INTO "beers" ("brewery_id", "created_at", "name", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["brewery_id", 1], ["created_at", Sun, 16 Feb 2014 15:54:10 UTC +00:00], ["name", "iso 3"], ["style", "Lager"], ["updated_at", Sun, 16 Feb 2014 15:54:10 UTC +00:00]]
  [1m[36m (6.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mBeer Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "beers" WHERE "beers"."name" = 'Karhu' LIMIT 1[0m
  [1m[35mSQL (1.9ms)[0m  INSERT INTO "beers" ("brewery_id", "created_at", "name", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["brewery_id", 1], ["created_at", Sun, 16 Feb 2014 15:54:10 UTC +00:00], ["name", "Karhu"], ["style", "Lager"], ["updated_at", Sun, 16 Feb 2014 15:54:10 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)  [["created_at", Sun, 16 Feb 2014 15:54:10 UTC +00:00], ["password_digest", "$2a$04$7NyzabxToFt38rIaDyqcMuDfJAaBPyegDD.n9Q6oj6wdnl.OP/TWK"], ["updated_at", Sun, 16 Feb 2014 15:54:10 UTC +00:00], ["username", "Pekka"]]
  [1m[36m (0.9ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/signin" for 127.0.0.1 at 2014-02-16 17:54:10 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.erb within layouts/application (3.0ms)
Completed 200 OK in 15ms (Views: 12.6ms | ActiveRecord: 0.0ms)
Started POST "/sessions" for 127.0.0.1 at 2014-02-16 17:54:10 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"Pekka", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
Redirected to http://www.example.com/users/1
Completed 302 Found in 9ms (ActiveRecord: 0.3ms)
Started GET "/users/1" for 127.0.0.1 at 2014-02-16 17:54:10 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (1.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "memeberships" WHERE "memeberships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mRating Exists (0.4ms)[0m  SELECT 1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (1.3ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUser Load (1.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (18.9ms)
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 34ms (Views: 26.8ms | ActiveRecord: 4.6ms)
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (3.3ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Arto' LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 16 Feb 2014 15:54:10 UTC +00:00], ["password_digest", "$2a$04$XES3wb5o59cNyDQdvw6IheBgzJ71LhMiy9AmAWq78vWrA6saATQ3K"], ["updated_at", Sun, 16 Feb 2014 15:54:10 UTC +00:00], ["username", "Arto"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (4.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBrewery Exists (0.8ms)[0m  SELECT 1 AS one FROM "breweries" WHERE "breweries"."name" = 'Koff' LIMIT 1
  [1m[36mSQL (2.9ms)[0m  [1mINSERT INTO "breweries" ("created_at", "name", "updated_at", "year") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 16 Feb 2014 15:54:10 UTC +00:00], ["name", "Koff"], ["updated_at", Sun, 16 Feb 2014 15:54:10 UTC +00:00], ["year", 1900]]
  [1m[35m (0.8ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBeer Exists (0.2ms)[0m  SELECT 1 AS one FROM "beers" WHERE "beers"."name" = 'iso 3' LIMIT 1
  [1m[36mSQL (1.8ms)[0m  [1mINSERT INTO "beers" ("brewery_id", "created_at", "name", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["brewery_id", 1], ["created_at", Sun, 16 Feb 2014 15:54:10 UTC +00:00], ["name", "iso 3"], ["style", "Lager"], ["updated_at", Sun, 16 Feb 2014 15:54:10 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.8ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBeer Exists (0.2ms)[0m  SELECT 1 AS one FROM "beers" WHERE "beers"."name" = 'Karhu' LIMIT 1
  [1m[36mSQL (4.3ms)[0m  [1mINSERT INTO "beers" ("brewery_id", "created_at", "name", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["brewery_id", 1], ["created_at", Sun, 16 Feb 2014 15:54:10 UTC +00:00], ["name", "Karhu"], ["style", "Lager"], ["updated_at", Sun, 16 Feb 2014 15:54:10 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 16 Feb 2014 15:54:10 UTC +00:00], ["password_digest", "$2a$04$8gC.4MvgKR6drcNLH7EJVOru5RQuvPMoBB9fXxTe87K1H5rjCNL.a"], ["updated_at", Sun, 16 Feb 2014 15:54:10 UTC +00:00], ["username", "Pekka"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/signin" for 127.0.0.1 at 2014-02-16 17:54:10 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.erb within layouts/application (3.9ms)
Completed 200 OK in 14ms (Views: 11.9ms | ActiveRecord: 0.0ms)
Started POST "/sessions" for 127.0.0.1 at 2014-02-16 17:54:10 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"Pekka", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
Redirected to http://www.example.com/users/1
Completed 302 Found in 8ms (ActiveRecord: 0.2ms)
Started GET "/users/1" for 127.0.0.1 at 2014-02-16 17:54:10 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "memeberships" WHERE "memeberships"."user_id" = ?  [["user_id", 1]]
  [1m[36mRating Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Load (0.7ms)[0m  SELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (17.2ms)
  [1m[35mCACHE (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 36ms (Views: 30.3ms | ActiveRecord: 1.9ms)
  [1m[35m (1.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (4.0ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."username" = 'Arto' LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)  [["created_at", Sun, 16 Feb 2014 15:54:10 UTC +00:00], ["password_digest", "$2a$04$e4Pu73AjFbiZ2Cw3VsDhwerCEoctLlSbDydXJfskwD8yKIfjy4R1S"], ["updated_at", Sun, 16 Feb 2014 15:54:10 UTC +00:00], ["username", "Arto"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.0ms)[0m  rollback transaction
  [1m[36m (1.9ms)[0m  [1mbegin transaction[0m
Started GET "/breweries" for 127.0.0.1 at 2014-02-16 17:54:10 +0200
Processing by BreweriesController#index as HTML
  [1m[35mBrewery Load (0.5ms)[0m  SELECT "breweries".* FROM "breweries"
  [1m[36m (1.9ms)[0m  [1mSELECT COUNT(*) FROM "breweries"[0m
  Rendered breweries/index.html.erb within layouts/application (8.7ms)
Completed 200 OK in 33ms (Views: 25.3ms | ActiveRecord: 2.4ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (7.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mBrewery Exists (0.5ms)[0m  [1mSELECT 1 AS one FROM "breweries" WHERE "breweries"."name" = 'Koff' LIMIT 1[0m
  [1m[35mSQL (3.7ms)[0m  INSERT INTO "breweries" ("created_at", "name", "updated_at", "year") VALUES (?, ?, ?, ?)  [["created_at", Sun, 16 Feb 2014 15:54:10 UTC +00:00], ["name", "Koff"], ["updated_at", Sun, 16 Feb 2014 15:54:10 UTC +00:00], ["year", 1897]]
  [1m[36m (9.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mBrewery Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM "breweries" WHERE "breweries"."name" = 'Karjala' LIMIT 1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "breweries" ("created_at", "name", "updated_at", "year") VALUES (?, ?, ?, ?)  [["created_at", Sun, 16 Feb 2014 15:54:11 UTC +00:00], ["name", "Karjala"], ["updated_at", Sun, 16 Feb 2014 15:54:11 UTC +00:00], ["year", 1898]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mBrewery Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM "breweries" WHERE "breweries"."name" = 'Schlenkerla' LIMIT 1[0m
  [1m[35mSQL (2.2ms)[0m  INSERT INTO "breweries" ("created_at", "name", "updated_at", "year") VALUES (?, ?, ?, ?)  [["created_at", Sun, 16 Feb 2014 15:54:11 UTC +00:00], ["name", "Schlenkerla"], ["updated_at", Sun, 16 Feb 2014 15:54:11 UTC +00:00], ["year", 1899]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/breweries" for 127.0.0.1 at 2014-02-16 17:54:11 +0200
Processing by BreweriesController#index as HTML
  [1m[35mBrewery Load (1.1ms)[0m  SELECT "breweries".* FROM "breweries"
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "breweries"[0m
  Rendered breweries/index.html.erb within layouts/application (9.9ms)
Completed 200 OK in 24ms (Views: 21.0ms | ActiveRecord: 1.2ms)
  [1m[35m (3.6ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (1.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBrewery Exists (3.7ms)[0m  [1mSELECT 1 AS one FROM "breweries" WHERE "breweries"."name" = 'Koff' LIMIT 1[0m
  [1m[35mSQL (3.0ms)[0m  INSERT INTO "breweries" ("created_at", "name", "updated_at", "year") VALUES (?, ?, ?, ?)  [["created_at", Sun, 16 Feb 2014 15:54:11 UTC +00:00], ["name", "Koff"], ["updated_at", Sun, 16 Feb 2014 15:54:11 UTC +00:00], ["year", 1897]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mBrewery Exists (14.4ms)[0m  [1mSELECT 1 AS one FROM "breweries" WHERE "breweries"."name" = 'Karjala' LIMIT 1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "breweries" ("created_at", "name", "updated_at", "year") VALUES (?, ?, ?, ?)  [["created_at", Sun, 16 Feb 2014 15:54:11 UTC +00:00], ["name", "Karjala"], ["updated_at", Sun, 16 Feb 2014 15:54:11 UTC +00:00], ["year", 1898]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mBrewery Exists (3.7ms)[0m  [1mSELECT 1 AS one FROM "breweries" WHERE "breweries"."name" = 'Schlenkerla' LIMIT 1[0m
  [1m[35mSQL (2.5ms)[0m  INSERT INTO "breweries" ("created_at", "name", "updated_at", "year") VALUES (?, ?, ?, ?)  [["created_at", Sun, 16 Feb 2014 15:54:11 UTC +00:00], ["name", "Schlenkerla"], ["updated_at", Sun, 16 Feb 2014 15:54:11 UTC +00:00], ["year", 1899]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/breweries" for 127.0.0.1 at 2014-02-16 17:54:11 +0200
Processing by BreweriesController#index as HTML
  [1m[35mBrewery Load (0.3ms)[0m  SELECT "breweries".* FROM "breweries"
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "breweries"[0m
  Rendered breweries/index.html.erb within layouts/application (10.9ms)
Completed 200 OK in 22ms (Views: 19.7ms | ActiveRecord: 0.5ms)
Started GET "/breweries/1" for 127.0.0.1 at 2014-02-16 17:54:11 +0200
Processing by BreweriesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mBrewery Load (0.3ms)[0m  SELECT "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "beers" WHERE "beers"."brewery_id" = ?[0m  [["brewery_id", 1]]
  [1m[35mBeer Load (0.3ms)[0m  SELECT "beers".* FROM "beers" WHERE "beers"."brewery_id" = ?  [["brewery_id", 1]]
  [1m[36mRating Exists (1.2ms)[0m  [1mSELECT 1 AS one FROM "ratings" INNER JOIN "beers" ON "ratings"."beer_id" = "beers"."id" WHERE "beers"."brewery_id" = ? LIMIT 1[0m  [["brewery_id", 1]]
  Rendered breweries/show.html.erb within layouts/application (82.2ms)
Completed 200 OK in 101ms (Views: 97.5ms | ActiveRecord: 2.0ms)
  [1m[35m (4.8ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mBrewery Exists (0.5ms)[0m  [1mSELECT 1 AS one FROM "breweries" WHERE "breweries"."name" IS NULL LIMIT 1[0m
  [1m[35m (1.6ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mBrewery Exists (0.9ms)[0m  [1mSELECT 1 AS one FROM "breweries" WHERE "breweries"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (1.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mBrewery Exists (0.5ms)[0m  [1mSELECT 1 AS one FROM "breweries" WHERE "breweries"."name" = 'Schlenkerla' LIMIT 1[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "breweries" ("created_at", "name", "updated_at", "year") VALUES (?, ?, ?, ?)  [["created_at", Sun, 16 Feb 2014 15:54:11 UTC +00:00], ["name", "Schlenkerla"], ["updated_at", Sun, 16 Feb 2014 15:54:11 UTC +00:00], ["year", 1674]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBrewery Exists (0.3ms)[0m  SELECT 1 AS one FROM "breweries" WHERE ("breweries"."name" = 'Schlenkerla' AND "breweries"."id" != 1) LIMIT 1
  [1m[36m (10.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (4.8ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBrewery Exists (0.6ms)[0m  SELECT 1 AS one FROM "breweries" WHERE "breweries"."name" = 'Schlenkerla' LIMIT 1
  [1m[36mSQL (6.5ms)[0m  [1mINSERT INTO "breweries" ("created_at", "name", "updated_at", "year") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 16 Feb 2014 15:54:11 UTC +00:00], ["name", "Schlenkerla"], ["updated_at", Sun, 16 Feb 2014 15:54:11 UTC +00:00], ["year", 1674]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (8.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBrewery Exists (8.1ms)[0m  SELECT 1 AS one FROM "breweries" WHERE "breweries"."name" = 'Schlenkerla' LIMIT 1
  [1m[36mSQL (3.9ms)[0m  [1mINSERT INTO "breweries" ("created_at", "name", "updated_at", "year") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 16 Feb 2014 15:54:11 UTC +00:00], ["name", "Schlenkerla"], ["updated_at", Sun, 16 Feb 2014 15:54:11 UTC +00:00], ["year", 1674]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (2.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (4.3ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.9ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (4.6ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.6ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (2.4ms)[0m  INSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)  [["created_at", Sun, 16 Feb 2014 15:54:12 UTC +00:00], ["password_digest", "$2a$04$wZrpB/uDl8sDNg9/yjkIJu/l0Kc7AnDLgVHE/lbPC/hYKYmWUAOmC"], ["updated_at", Sun, 16 Feb 2014 15:54:12 UTC +00:00], ["username", "Pekka"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT 1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (3.7ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)  [["created_at", Sun, 16 Feb 2014 15:54:12 UTC +00:00], ["password_digest", "$2a$04$l2eRdCnPPVGCsVISthbchudCMEhWdoYaIH.0c/Knn5ydeTPcS25He"], ["updated_at", Sun, 16 Feb 2014 15:54:12 UTC +00:00], ["username", "Pekka"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "ratings" ("created_at", "score", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Sun, 16 Feb 2014 15:54:12 UTC +00:00], ["score", 10], ["updated_at", Sun, 16 Feb 2014 15:54:12 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE "ratings" SET "user_id" = ?, "updated_at" = ? WHERE "ratings"."id" = 1  [["user_id", 1], ["updated_at", Sun, 16 Feb 2014 15:54:12 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "ratings" ("created_at", "score", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Sun, 16 Feb 2014 15:54:12 UTC +00:00], ["score", 20], ["updated_at", Sun, 16 Feb 2014 15:54:12 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (7.2ms)[0m  UPDATE "ratings" SET "user_id" = ?, "updated_at" = ? WHERE "ratings"."id" = 2  [["user_id", 1], ["updated_at", Sun, 16 Feb 2014 15:54:12 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (8.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (2.0ms)[0m  [1mINSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 16 Feb 2014 15:54:12 UTC +00:00], ["password_digest", "$2a$04$RMAji30J1xBxwHpZAgYsvOm0g/37UsIuLg9BNlY8eFigLxBPZndQW"], ["updated_at", Sun, 16 Feb 2014 15:54:12 UTC +00:00], ["username", "Pekka"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBeer Exists (0.2ms)[0m  SELECT 1 AS one FROM "beers" WHERE "beers"."name" = 'anonymous' LIMIT 1
  [1m[36mBrewery Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM "breweries" WHERE "breweries"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (3.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (1.4ms)[0m  begin transaction
  [1m[36m (2.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (8.5ms)[0m  [1mINSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 16 Feb 2014 15:54:12 UTC +00:00], ["password_digest", "$2a$04$0z5WHTjuKLvXnA3JwK86R..l0TP0I8nmOWWeDunVD14Rqcd0X.8gu"], ["updated_at", Sun, 16 Feb 2014 15:54:12 UTC +00:00], ["username", "Pekka"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBeer Exists (0.4ms)[0m  SELECT 1 AS one FROM "beers" WHERE "beers"."name" = 'anonymous' LIMIT 1
  [1m[36mBrewery Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "breweries" WHERE "breweries"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (2.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (4.0ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 16 Feb 2014 15:54:12 UTC +00:00], ["password_digest", "$2a$04$lCNdonb7gjA6y2NlfduVdu6vUgq/4ks42xHAmFj2zCSbfGV4KjbnG"], ["updated_at", Sun, 16 Feb 2014 15:54:12 UTC +00:00], ["username", "Pekka"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (3.1ms)[0m  [1mINSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 16 Feb 2014 15:54:12 UTC +00:00], ["password_digest", "$2a$04$2jVZg3me7jpiL9JEBOKxp.3csicPiorL1/aR12EMSFF3y8tfswvlq"], ["updated_at", Sun, 16 Feb 2014 15:54:12 UTC +00:00], ["username", "Pekka"]]
  [1m[35m (0.8ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (2.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.7ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (2.6ms)[0m  [1mINSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 16 Feb 2014 15:54:12 UTC +00:00], ["password_digest", "$2a$04$KPyX9qSTPaeCfPu27nT2EetGH5tyqQkKdQ1yMdwn8af1zcrrVZ8re"], ["updated_at", Sun, 16 Feb 2014 15:54:12 UTC +00:00], ["username", "Pekka"]]
  [1m[35m (0.7ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBeer Exists (0.2ms)[0m  SELECT 1 AS one FROM "beers" WHERE "beers"."name" = 'anonymous' LIMIT 1
  [1m[36mBrewery Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM "breweries" WHERE "breweries"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (2.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (3.2ms)[0m  [1mINSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 16 Feb 2014 15:54:12 UTC +00:00], ["password_digest", "$2a$04$iUE1nfcLF01msQ1GHtEV8ejrGSVoIZzfl5Czn3tUSEFrJpJ3DVQv2"], ["updated_at", Sun, 16 Feb 2014 15:54:12 UTC +00:00], ["username", "Pekka"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (8.8ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBeer Exists (0.3ms)[0m  SELECT 1 AS one FROM "beers" WHERE "beers"."name" = 'anonymous' LIMIT 1
  [1m[36mBrewery Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "breweries" WHERE "breweries"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (7.3ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 16 Feb 2014 15:54:12 UTC +00:00], ["password_digest", "$2a$04$gdo2QYASq/W.cL8pJ7eJK.jrONqoxkItV3KKRFYcnR4cm81elQPVi"], ["updated_at", Sun, 16 Feb 2014 15:54:12 UTC +00:00], ["username", "Pekka"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.8ms)[0m  [1mSELECT 1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.8ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (3.6ms)[0m  INSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)  [["created_at", Sun, 16 Feb 2014 15:54:12 UTC +00:00], ["password_digest", "$2a$04$5inkypXirzS5DIwN8MF9R.6JubtFmFHTu/jEpJ8qBB2lqtJB25C8y"], ["updated_at", Sun, 16 Feb 2014 15:54:12 UTC +00:00], ["username", "Pekka"]]
  [1m[36m (1.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.8ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mBrewery Exists (0.5ms)[0m  [1mSELECT 1 AS one FROM "breweries" WHERE "breweries"."name" = 'Plevna' LIMIT 1[0m
  [1m[35mSQL (6.6ms)[0m  INSERT INTO "breweries" ("created_at", "name", "updated_at", "year") VALUES (?, ?, ?, ?)  [["created_at", Sun, 16 Feb 2014 15:54:12 UTC +00:00], ["name", "Plevna"], ["updated_at", Sun, 16 Feb 2014 15:54:12 UTC +00:00], ["year", 1900]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mBrewery Exists (0.5ms)[0m  [1mSELECT 1 AS one FROM "breweries" WHERE "breweries"."name" = 'anonymous' LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "breweries" ("created_at", "name", "updated_at", "year") VALUES (?, ?, ?, ?)  [["created_at", Sun, 16 Feb 2014 15:54:12 UTC +00:00], ["name", "anonymous"], ["updated_at", Sun, 16 Feb 2014 15:54:12 UTC +00:00], ["year", 1900]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)  [["created_at", Sun, 16 Feb 2014 15:54:12 UTC +00:00], ["password_digest", "$2a$04$dRyd8.rbQu8vUyb67XFHFO1PSR2sC8cCe917QStnZbJS.jqJ5fzYa"], ["updated_at", Sun, 16 Feb 2014 15:54:12 UTC +00:00], ["username", "Pekka"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mBeer Exists (3.4ms)[0m  [1mSELECT 1 AS one FROM "beers" WHERE "beers"."name" = 'anonymous' LIMIT 1[0m
  [1m[35mSQL (1.6ms)[0m  INSERT INTO "beers" ("brewery_id", "created_at", "name", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["brewery_id", 2], ["created_at", Sun, 16 Feb 2014 15:54:12 UTC +00:00], ["name", "anonymous"], ["style", "Pale Ale"], ["updated_at", Sun, 16 Feb 2014 15:54:12 UTC +00:00]]
  [1m[36m (1.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.3ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mBrewery Exists (0.5ms)[0m  [1mSELECT 1 AS one FROM "breweries" WHERE "breweries"."name" = 'Koff' LIMIT 1[0m
  [1m[35mSQL (4.3ms)[0m  INSERT INTO "breweries" ("created_at", "name", "updated_at", "year") VALUES (?, ?, ?, ?)  [["created_at", Sun, 16 Feb 2014 15:54:12 UTC +00:00], ["name", "Koff"], ["updated_at", Sun, 16 Feb 2014 15:54:12 UTC +00:00], ["year", 1900]]
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)  [["created_at", Sun, 16 Feb 2014 15:54:12 UTC +00:00], ["password_digest", "$2a$04$uDxyZ2h6K0e.8qRaRDGUYuePwJaxKMFjyYRnNHNuZimM/.FEuM5hS"], ["updated_at", Sun, 16 Feb 2014 15:54:12 UTC +00:00], ["username", "Pekka"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mBeer Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "beers" WHERE "beers"."name" = 'anonymous' LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "beers" ("brewery_id", "created_at", "name", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["brewery_id", 1], ["created_at", Sun, 16 Feb 2014 15:54:12 UTC +00:00], ["name", "anonymous"], ["style", "Pale Ale"], ["updated_at", Sun, 16 Feb 2014 15:54:12 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.3ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (1.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (6.6ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (2.3ms)[0m  INSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)  [["created_at", Sun, 16 Feb 2014 15:54:12 UTC +00:00], ["password_digest", "$2a$04$hGOrEXdWOrk3frR4kkGY/eWCxDL1B8Yn62AZP3MMh4AlDwbihcRja"], ["updated_at", Sun, 16 Feb 2014 15:54:12 UTC +00:00], ["username", "Pekka"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (4.8ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (8.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (10.1ms)[0m  INSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)  [["created_at", Sun, 16 Feb 2014 15:54:12 UTC +00:00], ["password_digest", "$2a$04$14Fqnj4PUVQBNtWVfcHvMeJEWuGfSr4.NgmRsB4/8O06njeiTTOQm"], ["updated_at", Sun, 16 Feb 2014 15:54:12 UTC +00:00], ["username", "Pekka"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mBeer Exists (4.6ms)[0m  [1mSELECT 1 AS one FROM "beers" WHERE "beers"."name" = 'Karhu' LIMIT 1[0m
  [1m[35mSQL (2.7ms)[0m  INSERT INTO "beers" ("created_at", "name", "style", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Sun, 16 Feb 2014 15:54:12 UTC +00:00], ["name", "Karhu"], ["style", "Lager"], ["updated_at", Sun, 16 Feb 2014 15:54:12 UTC +00:00]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mBeer Exists (0.3ms)[0m  SELECT 1 AS one FROM "beers" WHERE ("beers"."name" = 'Karhu' AND "beers"."id" != 1) LIMIT 1
  [1m[36m (1.1ms)[0m  [1mSELECT COUNT(*) FROM "beers"[0m
  [1m[35m (1.7ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (1.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mBeer Exists (0.7ms)[0m  [1mSELECT 1 AS one FROM "beers" WHERE "beers"."name" IS NULL LIMIT 1[0m
  [1m[35m (1.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mBeer Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "beers" WHERE "beers"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "beers"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (1.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBeer Exists (3.8ms)[0m  SELECT 1 AS one FROM "beers" WHERE "beers"."name" = 'Karhu' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mBeer Exists (0.3ms)[0m  SELECT 1 AS one FROM "beers" WHERE "beers"."name" = 'Karhu' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "beers"[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.9ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mBrewery Exists (11.3ms)[0m  [1mSELECT 1 AS one FROM "breweries" WHERE "breweries"."name" = 'Koff' LIMIT 1[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "breweries" ("created_at", "name", "updated_at", "year") VALUES (?, ?, ?, ?)  [["created_at", Sun, 16 Feb 2014 15:54:13 UTC +00:00], ["name", "Koff"], ["updated_at", Sun, 16 Feb 2014 15:54:13 UTC +00:00], ["year", 1900]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (1.6ms)[0m  INSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)  [["created_at", Sun, 16 Feb 2014 15:54:13 UTC +00:00], ["password_digest", "$2a$04$NbwKyu8osdVdo3ci5al86.0xzHF8bXEvLBExmoAW2Nu9ZW31/rl5y"], ["updated_at", Sun, 16 Feb 2014 15:54:13 UTC +00:00], ["username", "Pekka"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/signin" for 127.0.0.1 at 2014-02-16 17:54:13 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.erb within layouts/application (4.3ms)
Completed 200 OK in 13ms (Views: 12.2ms | ActiveRecord: 0.0ms)
Started POST "/sessions" for 127.0.0.1 at 2014-02-16 17:54:13 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"Pekka", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
Redirected to http://www.example.com/users/1
Completed 302 Found in 8ms (ActiveRecord: 0.2ms)
Started GET "/users/1" for 127.0.0.1 at 2014-02-16 17:54:13 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "memeberships" WHERE "memeberships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mRating Exists (0.1ms)[0m  SELECT 1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (2.1ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (22.8ms)
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.7ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 41ms (Views: 31.3ms | ActiveRecord: 4.2ms)
Started GET "/beers/new" for 127.0.0.1 at 2014-02-16 17:54:13 +0200
Processing by BeersController#new as HTML
  [1m[36mBrewery Load (0.2ms)[0m  [1mSELECT "breweries".* FROM "breweries"[0m
  Rendered beers/new.html.erb within layouts/application (7.3ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 36ms (Views: 32.4ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "beers"
Started POST "/beers" for 127.0.0.1 at 2014-02-16 17:54:13 +0200
Processing by BeersController#create as HTML
  Parameters: {"utf8"=>"✓", "beer"=>{"brewery_id"=>"1", "name"=>"Arrogant Bastard Ale", "style"=>"Weizen"}, "commit"=>"Create Beer"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBeer Exists (0.6ms)[0m  SELECT 1 AS one FROM "beers" WHERE "beers"."name" = 'Arrogant Bastard Ale' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "beers" ("brewery_id", "created_at", "name", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["brewery_id", 1], ["created_at", Sun, 16 Feb 2014 15:54:13 UTC +00:00], ["name", "Arrogant Bastard Ale"], ["style", "Weizen"], ["updated_at", Sun, 16 Feb 2014 15:54:13 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/beers
Completed 302 Found in 15ms (ActiveRecord: 1.7ms)
Started GET "/beers" for 127.0.0.1 at 2014-02-16 17:54:13 +0200
Processing by BeersController#index as HTML
  [1m[36mBeer Load (0.4ms)[0m  [1mSELECT "beers".* FROM "beers"[0m
  [1m[35mBrewery Load (0.2ms)[0m  SELECT "breweries".* FROM "breweries" WHERE "breweries"."id" = ? ORDER BY "breweries"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mRating Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM "ratings" WHERE "ratings"."beer_id" = ? LIMIT 1[0m  [["beer_id", 1]]
  Rendered beers/index.html.erb within layouts/application (22.8ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (2.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 61ms (Views: 56.5ms | ActiveRecord: 3.4ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "beers"
  [1m[36m (3.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBrewery Exists (0.5ms)[0m  SELECT 1 AS one FROM "breweries" WHERE "breweries"."name" = 'Koff' LIMIT 1
  [1m[36mSQL (3.1ms)[0m  [1mINSERT INTO "breweries" ("created_at", "name", "updated_at", "year") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 16 Feb 2014 15:54:13 UTC +00:00], ["name", "Koff"], ["updated_at", Sun, 16 Feb 2014 15:54:13 UTC +00:00], ["year", 1900]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (4.1ms)[0m  [1mINSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 16 Feb 2014 15:54:13 UTC +00:00], ["password_digest", "$2a$04$ioRRPY0YpKeYs/16Ew0geeA4zsekpUsiuHV.vNWQVKzxfvez0HPym"], ["updated_at", Sun, 16 Feb 2014 15:54:13 UTC +00:00], ["username", "Pekka"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/signin" for 127.0.0.1 at 2014-02-16 17:54:13 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.erb within layouts/application (1.0ms)
Completed 200 OK in 12ms (Views: 7.2ms | ActiveRecord: 0.0ms)
Started POST "/sessions" for 127.0.0.1 at 2014-02-16 17:54:13 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"Pekka", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
Redirected to http://www.example.com/users/1
Completed 302 Found in 9ms (ActiveRecord: 0.2ms)
Started GET "/users/1" for 127.0.0.1 at 2014-02-16 17:54:13 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (1.2ms)[0m  SELECT COUNT(*) FROM "memeberships" WHERE "memeberships"."user_id" = ?  [["user_id", 1]]
  [1m[36mRating Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Load (0.3ms)[0m  SELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (19.0ms)
  [1m[35mCACHE (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 35ms (Views: 28.2ms | ActiveRecord: 2.4ms)
Started GET "/beers/new" for 127.0.0.1 at 2014-02-16 17:54:13 +0200
Processing by BeersController#new as HTML
  [1m[35mBrewery Load (0.3ms)[0m  SELECT "breweries".* FROM "breweries"
  Rendered beers/new.html.erb within layouts/application (7.1ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (2.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 26ms (Views: 22.0ms | ActiveRecord: 2.4ms)
  [1m[36m (1.1ms)[0m  [1mSELECT COUNT(*) FROM "beers"[0m
Started POST "/beers" for 127.0.0.1 at 2014-02-16 17:54:13 +0200
Processing by BeersController#create as HTML
  Parameters: {"utf8"=>"✓", "beer"=>{"brewery_id"=>"1", "name"=>"", "style"=>"Weizen"}, "commit"=>"Create Beer"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mBeer Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM "beers" WHERE "beers"."name" = '' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered beers/new.html.erb within layouts/application (11.0ms)
Completed 500 Internal Server Error in 23ms
  [1m[36m (2.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (2.0ms)[0m  [1mINSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 16 Feb 2014 15:54:13 UTC +00:00], ["password_digest", "$2a$04$QzG./js8h3iWv2c3RGJMJOS6Ky8gO6Y2b.yKWM70WkRdHRofpknsK"], ["updated_at", Sun, 16 Feb 2014 15:54:13 UTC +00:00], ["username", "Pekka"]]
  [1m[35m (1.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (1.3ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (8.3ms)[0m  [1mINSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 16 Feb 2014 15:54:13 UTC +00:00], ["password_digest", "$2a$04$6yup0fyNB6JvXt66a/vkdOG1hRQJb5nnvkD7MkA0u1fqUoyO718lG"], ["updated_at", Sun, 16 Feb 2014 15:54:13 UTC +00:00], ["username", "Pekka"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (5.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBrewery Exists (1.7ms)[0m  SELECT 1 AS one FROM "breweries" WHERE "breweries"."name" = 'Koff' LIMIT 1
  [1m[36mSQL (5.1ms)[0m  [1mINSERT INTO "breweries" ("created_at", "name", "updated_at", "year") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 16 Feb 2014 15:54:13 UTC +00:00], ["name", "Koff"], ["updated_at", Sun, 16 Feb 2014 15:54:13 UTC +00:00], ["year", 1900]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBeer Exists (0.4ms)[0m  SELECT 1 AS one FROM "beers" WHERE "beers"."name" = 'iso 3' LIMIT 1
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "beers" ("brewery_id", "created_at", "name", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["brewery_id", 1], ["created_at", Sun, 16 Feb 2014 15:54:13 UTC +00:00], ["name", "iso 3"], ["style", "Lager"], ["updated_at", Sun, 16 Feb 2014 15:54:13 UTC +00:00]]
  [1m[35m (2.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (3.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.5ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 16 Feb 2014 15:54:13 UTC +00:00], ["password_digest", "$2a$04$LCavWcQnkTHPVFQfwpYhD.lYUBMKWghi74MV9w6aCgVCGlKf0AZG."], ["updated_at", Sun, 16 Feb 2014 15:54:13 UTC +00:00], ["username", "Pekka"]]
  [1m[35m (0.6ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/signin" for 127.0.0.1 at 2014-02-16 17:54:13 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.erb within layouts/application (1.4ms)
Completed 200 OK in 14ms (Views: 12.1ms | ActiveRecord: 0.0ms)
Started POST "/sessions" for 127.0.0.1 at 2014-02-16 17:54:13 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"Pekka", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
Redirected to http://www.example.com/users/1
Completed 302 Found in 12ms (ActiveRecord: 0.3ms)
Started GET "/users/1" for 127.0.0.1 at 2014-02-16 17:54:13 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "memeberships" WHERE "memeberships"."user_id" = ?  [["user_id", 1]]
  [1m[36mRating Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Load (0.4ms)[0m  SELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (20.3ms)
  [1m[35mCACHE (1.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (1.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 38ms (Views: 29.8ms | ActiveRecord: 4.4ms)
  [1m[35m (3.6ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.7ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (4.3ms)[0m  INSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)  [["created_at", Sun, 16 Feb 2014 15:54:13 UTC +00:00], ["password_digest", "$2a$04$VOeQ.PsBBC6N.ynwNB9mCuoAi5DlhX/yIzOIe.iDJtCnLo.hnklB6"], ["updated_at", Sun, 16 Feb 2014 15:54:13 UTC +00:00], ["username", "Pekka"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/signin" for 127.0.0.1 at 2014-02-16 17:54:13 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.erb within layouts/application (3.2ms)
Completed 200 OK in 22ms (Views: 21.1ms | ActiveRecord: 0.0ms)
Started POST "/sessions" for 127.0.0.1 at 2014-02-16 17:54:14 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"Pekka", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[35mUser Load (1.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
Redirected to http://www.example.com/signin
Completed 302 Found in 9ms (ActiveRecord: 1.4ms)
Started GET "/signin" for 127.0.0.1 at 2014-02-16 17:54:14 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.erb within layouts/application (2.5ms)
Completed 200 OK in 11ms (Views: 9.3ms | ActiveRecord: 0.0ms)
  [1m[36m (2.4ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.6ms)[0m  begin transaction
  [1m[36m (0.6ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBrewery Exists (0.4ms)[0m  SELECT 1 AS one FROM "breweries" WHERE "breweries"."name" = 'Koff' LIMIT 1
  [1m[36mSQL (39.3ms)[0m  [1mINSERT INTO "breweries" ("created_at", "name", "updated_at", "year") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 16 Feb 2014 17:44:05 UTC +00:00], ["name", "Koff"], ["updated_at", Sun, 16 Feb 2014 17:44:05 UTC +00:00], ["year", 1900]]
  [1m[35m (2.9ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (6.5ms)[0m  [1mINSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 16 Feb 2014 17:44:05 UTC +00:00], ["password_digest", "$2a$04$g03JvP6lmpsoZFEyOLfylu8Ksfh1UxhXfuKZsorqt13BGUdU3LV2e"], ["updated_at", Sun, 16 Feb 2014 17:44:05 UTC +00:00], ["username", "Pekka"]]
  [1m[35m (1.6ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/signin" for 127.0.0.1 at 2014-02-16 19:44:05 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.erb within layouts/application (9.9ms)
Completed 200 OK in 496ms (Views: 428.6ms | ActiveRecord: 0.0ms)
Started POST "/sessions" for 127.0.0.1 at 2014-02-16 19:44:06 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"Pekka", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
Redirected to http://www.example.com/users/1
Completed 302 Found in 24ms (ActiveRecord: 1.1ms)
Started GET "/users/1" for 127.0.0.1 at 2014-02-16 19:44:06 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (2.9ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  Rendered users/show.html.erb within layouts/application (185.6ms)
Completed 500 Internal Server Error in 206ms
  [1m[35m (2.8ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mBrewery Exists (0.6ms)[0m  [1mSELECT 1 AS one FROM "breweries" WHERE "breweries"."name" = 'Koff' LIMIT 1[0m
  [1m[35mSQL (2.7ms)[0m  INSERT INTO "breweries" ("created_at", "name", "updated_at", "year") VALUES (?, ?, ?, ?)  [["created_at", Sun, 16 Feb 2014 17:44:06 UTC +00:00], ["name", "Koff"], ["updated_at", Sun, 16 Feb 2014 17:44:06 UTC +00:00], ["year", 1900]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (12.8ms)[0m  INSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)  [["created_at", Sun, 16 Feb 2014 17:44:06 UTC +00:00], ["password_digest", "$2a$04$7eB4FS9yl6kkbrOhGrZ.FuByLsvQFr49pJu6aBLvxukJiaiMoSu3i"], ["updated_at", Sun, 16 Feb 2014 17:44:06 UTC +00:00], ["username", "Pekka"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/signin" for 127.0.0.1 at 2014-02-16 19:44:06 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.erb within layouts/application (3.2ms)
Completed 200 OK in 38ms (Views: 36.9ms | ActiveRecord: 0.0ms)
Started POST "/sessions" for 127.0.0.1 at 2014-02-16 19:44:06 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"Pekka", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[35mUser Load (1.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
Redirected to http://www.example.com/users/1
Completed 302 Found in 17ms (ActiveRecord: 1.0ms)
Started GET "/users/1" for 127.0.0.1 at 2014-02-16 19:44:06 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  Rendered users/show.html.erb within layouts/application (25.1ms)
Completed 500 Internal Server Error in 43ms
  [1m[36m (1.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.6ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBeer Exists (1.2ms)[0m  SELECT 1 AS one FROM "beers" WHERE "beers"."name" = 'Karhu' LIMIT 1
  [1m[36mSQL (2.0ms)[0m  [1mINSERT INTO "beers" ("created_at", "name", "style", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 16 Feb 2014 17:44:07 UTC +00:00], ["name", "Karhu"], ["style", "Lager"], ["updated_at", Sun, 16 Feb 2014 17:44:07 UTC +00:00]]
  [1m[35m (1.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBeer Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "beers" WHERE ("beers"."name" = 'Karhu' AND "beers"."id" != 1) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "beers"
  [1m[36m (3.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBeer Exists (1.3ms)[0m  SELECT 1 AS one FROM "beers" WHERE "beers"."name" = 'Karhu' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mBeer Exists (0.2ms)[0m  SELECT 1 AS one FROM "beers" WHERE "beers"."name" = 'Karhu' LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "beers"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mBeer Exists (18.2ms)[0m  [1mSELECT 1 AS one FROM "beers" WHERE "beers"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mBeer Exists (0.5ms)[0m  [1mSELECT 1 AS one FROM "beers" WHERE "beers"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM "beers"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
Started GET "/breweries" for 127.0.0.1 at 2014-02-16 19:44:07 +0200
Processing by BreweriesController#index as HTML
  [1m[36mBrewery Load (1.3ms)[0m  [1mSELECT "breweries".* FROM "breweries"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "breweries"
  Rendered breweries/index.html.erb within layouts/application (9.9ms)
Completed 200 OK in 74ms (Views: 70.6ms | ActiveRecord: 1.5ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (1.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBrewery Exists (1.9ms)[0m  SELECT 1 AS one FROM "breweries" WHERE "breweries"."name" = 'Koff' LIMIT 1
  [1m[36mSQL (4.1ms)[0m  [1mINSERT INTO "breweries" ("created_at", "name", "updated_at", "year") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 16 Feb 2014 17:44:07 UTC +00:00], ["name", "Koff"], ["updated_at", Sun, 16 Feb 2014 17:44:07 UTC +00:00], ["year", 1897]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBrewery Exists (0.2ms)[0m  SELECT 1 AS one FROM "breweries" WHERE "breweries"."name" = 'Karjala' LIMIT 1
  [1m[36mSQL (5.7ms)[0m  [1mINSERT INTO "breweries" ("created_at", "name", "updated_at", "year") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 16 Feb 2014 17:44:07 UTC +00:00], ["name", "Karjala"], ["updated_at", Sun, 16 Feb 2014 17:44:07 UTC +00:00], ["year", 1898]]
  [1m[35m (2.7ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (27.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBrewery Exists (0.3ms)[0m  SELECT 1 AS one FROM "breweries" WHERE "breweries"."name" = 'Schlenkerla' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "breweries" ("created_at", "name", "updated_at", "year") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 16 Feb 2014 17:44:07 UTC +00:00], ["name", "Schlenkerla"], ["updated_at", Sun, 16 Feb 2014 17:44:07 UTC +00:00], ["year", 1899]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/breweries" for 127.0.0.1 at 2014-02-16 19:44:07 +0200
Processing by BreweriesController#index as HTML
  [1m[36mBrewery Load (0.2ms)[0m  [1mSELECT "breweries".* FROM "breweries"[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "breweries"
  Rendered breweries/index.html.erb within layouts/application (25.8ms)
Completed 200 OK in 32ms (Views: 30.3ms | ActiveRecord: 0.6ms)
Started GET "/breweries/1" for 127.0.0.1 at 2014-02-16 19:44:07 +0200
Processing by BreweriesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBrewery Load (0.3ms)[0m  [1mSELECT "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35m (1.7ms)[0m  SELECT COUNT(*) FROM "beers" WHERE "beers"."brewery_id" = ?  [["brewery_id", 1]]
  [1m[36mBeer Load (0.5ms)[0m  [1mSELECT "beers".* FROM "beers" WHERE "beers"."brewery_id" = ?[0m  [["brewery_id", 1]]
  [1m[35mRating Exists (0.4ms)[0m  SELECT 1 AS one FROM "ratings" INNER JOIN "beers" ON "ratings"."beer_id" = "beers"."id" WHERE "beers"."brewery_id" = ? LIMIT 1  [["brewery_id", 1]]
  Rendered breweries/show.html.erb within layouts/application (189.8ms)
Completed 200 OK in 269ms (Views: 253.2ms | ActiveRecord: 2.8ms)
  [1m[36m (4.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBrewery Exists (0.6ms)[0m  SELECT 1 AS one FROM "breweries" WHERE "breweries"."name" = 'Koff' LIMIT 1
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "breweries" ("created_at", "name", "updated_at", "year") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 16 Feb 2014 17:44:08 UTC +00:00], ["name", "Koff"], ["updated_at", Sun, 16 Feb 2014 17:44:08 UTC +00:00], ["year", 1897]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBrewery Exists (0.2ms)[0m  SELECT 1 AS one FROM "breweries" WHERE "breweries"."name" = 'Karjala' LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "breweries" ("created_at", "name", "updated_at", "year") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 16 Feb 2014 17:44:08 UTC +00:00], ["name", "Karjala"], ["updated_at", Sun, 16 Feb 2014 17:44:08 UTC +00:00], ["year", 1898]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBrewery Exists (0.3ms)[0m  SELECT 1 AS one FROM "breweries" WHERE "breweries"."name" = 'Schlenkerla' LIMIT 1
  [1m[36mSQL (2.5ms)[0m  [1mINSERT INTO "breweries" ("created_at", "name", "updated_at", "year") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 16 Feb 2014 17:44:08 UTC +00:00], ["name", "Schlenkerla"], ["updated_at", Sun, 16 Feb 2014 17:44:08 UTC +00:00], ["year", 1899]]
  [1m[35m (0.7ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/breweries" for 127.0.0.1 at 2014-02-16 19:44:08 +0200
Processing by BreweriesController#index as HTML
  [1m[36mBrewery Load (0.2ms)[0m  [1mSELECT "breweries".* FROM "breweries"[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "breweries"
  Rendered breweries/index.html.erb within layouts/application (13.4ms)
Completed 200 OK in 29ms (Views: 25.1ms | ActiveRecord: 0.7ms)
  [1m[36m (5.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBrewery Exists (0.7ms)[0m  SELECT 1 AS one FROM "breweries" WHERE "breweries"."name" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mBrewery Exists (0.6ms)[0m  SELECT 1 AS one FROM "breweries" WHERE "breweries"."name" IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBrewery Exists (0.5ms)[0m  SELECT 1 AS one FROM "breweries" WHERE "breweries"."name" = 'Schlenkerla' LIMIT 1
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "breweries" ("created_at", "name", "updated_at", "year") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 16 Feb 2014 17:44:08 UTC +00:00], ["name", "Schlenkerla"], ["updated_at", Sun, 16 Feb 2014 17:44:08 UTC +00:00], ["year", 1674]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mBrewery Exists (5.4ms)[0m  [1mSELECT 1 AS one FROM "breweries" WHERE ("breweries"."name" = 'Schlenkerla' AND "breweries"."id" != 1) LIMIT 1[0m
  [1m[35m (5.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mBrewery Exists (9.2ms)[0m  [1mSELECT 1 AS one FROM "breweries" WHERE "breweries"."name" = 'Schlenkerla' LIMIT 1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "breweries" ("created_at", "name", "updated_at", "year") VALUES (?, ?, ?, ?)  [["created_at", Sun, 16 Feb 2014 17:44:08 UTC +00:00], ["name", "Schlenkerla"], ["updated_at", Sun, 16 Feb 2014 17:44:08 UTC +00:00], ["year", 1674]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mBrewery Exists (3.1ms)[0m  [1mSELECT 1 AS one FROM "breweries" WHERE "breweries"."name" = 'Schlenkerla' LIMIT 1[0m
  [1m[35mSQL (6.0ms)[0m  INSERT INTO "breweries" ("created_at", "name", "updated_at", "year") VALUES (?, ?, ?, ?)  [["created_at", Sun, 16 Feb 2014 17:44:08 UTC +00:00], ["name", "Schlenkerla"], ["updated_at", Sun, 16 Feb 2014 17:44:08 UTC +00:00], ["year", 1674]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.9ms)[0m  [1mbegin transaction[0m
  [1m[35m (3.4ms)[0m  rollback transaction
  [1m[36m (4.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.2ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (2.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBrewery Exists (50.6ms)[0m  SELECT 1 AS one FROM "breweries" WHERE "breweries"."name" = 'Plevna' LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "breweries" ("created_at", "name", "updated_at", "year") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 16 Feb 2014 17:44:08 UTC +00:00], ["name", "Plevna"], ["updated_at", Sun, 16 Feb 2014 17:44:08 UTC +00:00], ["year", 1900]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (6.7ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBrewery Exists (0.8ms)[0m  SELECT 1 AS one FROM "breweries" WHERE "breweries"."name" = 'anonymous' LIMIT 1
  [1m[36mSQL (4.6ms)[0m  [1mINSERT INTO "breweries" ("created_at", "name", "updated_at", "year") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 16 Feb 2014 17:44:08 UTC +00:00], ["name", "anonymous"], ["updated_at", Sun, 16 Feb 2014 17:44:08 UTC +00:00], ["year", 1900]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.6ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 16 Feb 2014 17:44:08 UTC +00:00], ["password_digest", "$2a$04$v4D4tCumpdpIjCftJixgAOy3zS9LySJNNNKMa8eN49Snykaz1xdUK"], ["updated_at", Sun, 16 Feb 2014 17:44:08 UTC +00:00], ["username", "Pekka"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (2.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBeer Exists (3.7ms)[0m  SELECT 1 AS one FROM "beers" WHERE "beers"."name" = 'anonymous' LIMIT 1
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "beers" ("brewery_id", "created_at", "name", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["brewery_id", 2], ["created_at", Sun, 16 Feb 2014 17:44:08 UTC +00:00], ["name", "anonymous"], ["style", "Pale Ale"], ["updated_at", Sun, 16 Feb 2014 17:44:08 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (2.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.3ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (5.5ms)[0m  [1mINSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 16 Feb 2014 17:44:09 UTC +00:00], ["password_digest", "$2a$04$M5nIF1hk36fbUDh/ghl6CuAebG9W6a8rtuGmgSxAuC9pg6ahDm1Jm"], ["updated_at", Sun, 16 Feb 2014 17:44:09 UTC +00:00], ["username", "Pekka"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (14.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (8.9ms)[0m  begin transaction
  [1m[36m (7.6ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.2ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 16 Feb 2014 17:44:09 UTC +00:00], ["password_digest", "$2a$04$7fnR0h8T9gIBfhjfIgnI4.lqxUr2/qIlqPYP.GL1wPpHpdN68XyrK"], ["updated_at", Sun, 16 Feb 2014 17:44:09 UTC +00:00], ["username", "Pekka"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (4.2ms)[0m  rollback transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mBrewery Exists (0.5ms)[0m  [1mSELECT 1 AS one FROM "breweries" WHERE "breweries"."name" = 'Koff' LIMIT 1[0m
  [1m[35mSQL (3.7ms)[0m  INSERT INTO "breweries" ("created_at", "name", "updated_at", "year") VALUES (?, ?, ?, ?)  [["created_at", Sun, 16 Feb 2014 17:44:09 UTC +00:00], ["name", "Koff"], ["updated_at", Sun, 16 Feb 2014 17:44:09 UTC +00:00], ["year", 1900]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (6.7ms)[0m  INSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)  [["created_at", Sun, 16 Feb 2014 17:44:09 UTC +00:00], ["password_digest", "$2a$04$JRrsGvIMyYWKbzHx6SBsk.h82sowIYVtvHue9FMmEtl4qb061gf2m"], ["updated_at", Sun, 16 Feb 2014 17:44:09 UTC +00:00], ["username", "Pekka"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  SAVEPOINT active_record_1
  [1m[36mBeer Exists (0.8ms)[0m  [1mSELECT 1 AS one FROM "beers" WHERE "beers"."name" = 'anonymous' LIMIT 1[0m
  [1m[35mSQL (1.9ms)[0m  INSERT INTO "beers" ("brewery_id", "created_at", "name", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["brewery_id", 1], ["created_at", Sun, 16 Feb 2014 17:44:09 UTC +00:00], ["name", "anonymous"], ["style", "Pale Ale"], ["updated_at", Sun, 16 Feb 2014 17:44:09 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (4.2ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (4.1ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (11.7ms)[0m  INSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)  [["created_at", Sun, 16 Feb 2014 17:44:09 UTC +00:00], ["password_digest", "$2a$04$AONUZiW.N6koCg8G.rV3Be6PBixYZWeDjP6YAfY/E0odeXsRSVZeC"], ["updated_at", Sun, 16 Feb 2014 17:44:09 UTC +00:00], ["username", "Pekka"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "ratings" ("created_at", "score", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Sun, 16 Feb 2014 17:44:09 UTC +00:00], ["score", 10], ["updated_at", Sun, 16 Feb 2014 17:44:09 UTC +00:00]]
  [1m[35m (3.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "ratings" SET "user_id" = ?, "updated_at" = ? WHERE "ratings"."id" = 1  [["user_id", 1], ["updated_at", Sun, 16 Feb 2014 17:44:09 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.9ms)[0m  [1mINSERT INTO "ratings" ("created_at", "score", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Sun, 16 Feb 2014 17:44:09 UTC +00:00], ["score", 20], ["updated_at", Sun, 16 Feb 2014 17:44:09 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.8ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "ratings" SET "user_id" = ?, "updated_at" = ? WHERE "ratings"."id" = 2  [["user_id", 1], ["updated_at", Sun, 16 Feb 2014 17:44:09 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mRating Load (0.4ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (2.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (2.0ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (2.3ms)[0m  [1mINSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 16 Feb 2014 17:44:09 UTC +00:00], ["password_digest", "$2a$04$76YdgzVJiucEzX2enfHNUOs3lyMOuham/INtjLGbyrnRcuIvAV1wi"], ["updated_at", Sun, 16 Feb 2014 17:44:09 UTC +00:00], ["username", "Pekka"]]
  [1m[35m (0.9ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (1.5ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (1.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.6ms)[0m  begin transaction
  [1m[36m (1.9ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.9ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (11.0ms)[0m  [1mINSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 16 Feb 2014 17:44:09 UTC +00:00], ["password_digest", "$2a$04$CclQr6jaVjUuDEZLiTZh.OyEgl00m9g3SzeYRJHpFPAwD2spq861."], ["updated_at", Sun, 16 Feb 2014 17:44:09 UTC +00:00], ["username", "Pekka"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (11.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBeer Exists (0.2ms)[0m  SELECT 1 AS one FROM "beers" WHERE "beers"."name" = 'anonymous' LIMIT 1
  [1m[36mBrewery Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "breweries" WHERE "breweries"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (3.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (2.4ms)[0m  [1mINSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 16 Feb 2014 17:44:09 UTC +00:00], ["password_digest", "$2a$04$GNKI4lmgHO7fbU/ncqVpFOuGv47i0MIJR6Fnb/juNDG97YKuMnPye"], ["updated_at", Sun, 16 Feb 2014 17:44:09 UTC +00:00], ["username", "Pekka"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (8.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (2.6ms)[0m  [1mINSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 16 Feb 2014 17:44:09 UTC +00:00], ["password_digest", "$2a$04$HSyvKNl3fAF1aZe7ep3.EeFBDRm7xPQu16gvmO/QekCEqLBm8QYwG"], ["updated_at", Sun, 16 Feb 2014 17:44:09 UTC +00:00], ["username", "Pekka"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (1.6ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (1.9ms)[0m  INSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)  [["created_at", Sun, 16 Feb 2014 17:44:09 UTC +00:00], ["password_digest", "$2a$04$1rjz0nhNX.EVGKDYHfDmJubrk5PUi5W/OCVxwEqqFsxkiYEUVT8Ca"], ["updated_at", Sun, 16 Feb 2014 17:44:09 UTC +00:00], ["username", "Pekka"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mBeer Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "beers" WHERE "beers"."name" = 'anonymous' LIMIT 1[0m
  [1m[35mBrewery Exists (0.2ms)[0m  SELECT 1 AS one FROM "breweries" WHERE "breweries"."name" IS NULL LIMIT 1
  [1m[36m (0.7ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (2.9ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)  [["created_at", Sun, 16 Feb 2014 17:44:09 UTC +00:00], ["password_digest", "$2a$04$/FDMFQihFXCsgAvlGHIg.uxZHRRu5JOcqPi99Tx7/4QUOZmm0BhTe"], ["updated_at", Sun, 16 Feb 2014 17:44:09 UTC +00:00], ["username", "Pekka"]]
  [1m[36m (0.7ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (4.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mBeer Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "beers" WHERE "beers"."name" = 'anonymous' LIMIT 1[0m
  [1m[35mBrewery Exists (0.2ms)[0m  SELECT 1 AS one FROM "breweries" WHERE "breweries"."name" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (1.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (17.2ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)  [["created_at", Sun, 16 Feb 2014 17:44:09 UTC +00:00], ["password_digest", "$2a$04$PBsjIK6lp1ZhmxbIrkfulO1jzR3BEYvrgau5JRmGwAM6ip/GdL3vu"], ["updated_at", Sun, 16 Feb 2014 17:44:09 UTC +00:00], ["username", "Pekka"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.8ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (2.9ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (2.5ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (11.0ms)[0m  INSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)  [["created_at", Sun, 16 Feb 2014 17:44:09 UTC +00:00], ["password_digest", "$2a$04$8CadFCAPnLS/FWjkqKuod.w3v4G4E2y8xr6PbG1L1.U8RX7eaxMy6"], ["updated_at", Sun, 16 Feb 2014 17:44:09 UTC +00:00], ["username", "Pekka"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.2ms)[0m  SELECT 1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36m (2.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.6ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (5.7ms)[0m  [1mINSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 16 Feb 2014 17:44:09 UTC +00:00], ["password_digest", "$2a$04$o24gnp5waPaZdW30mHUJfeq.BFTkeFZtxyFP0m75eKQKWeG.9aRke"], ["updated_at", Sun, 16 Feb 2014 17:44:09 UTC +00:00], ["username", "Pekka"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBeer Exists (0.2ms)[0m  SELECT 1 AS one FROM "beers" WHERE "beers"."name" = 'anonymous' LIMIT 1
  [1m[36mBrewery Exists (0.7ms)[0m  [1mSELECT 1 AS one FROM "breweries" WHERE "breweries"."name" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBrewery Exists (1.0ms)[0m  SELECT 1 AS one FROM "breweries" WHERE "breweries"."name" = 'Koff' LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "breweries" ("created_at", "name", "updated_at", "year") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 16 Feb 2014 17:44:09 UTC +00:00], ["name", "Koff"], ["updated_at", Sun, 16 Feb 2014 17:44:09 UTC +00:00], ["year", 1900]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (20.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBeer Exists (0.2ms)[0m  SELECT 1 AS one FROM "beers" WHERE "beers"."name" = 'iso 3' LIMIT 1
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "beers" ("brewery_id", "created_at", "name", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["brewery_id", 1], ["created_at", Sun, 16 Feb 2014 17:44:09 UTC +00:00], ["name", "iso 3"], ["style", "Lager"], ["updated_at", Sun, 16 Feb 2014 17:44:09 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBeer Exists (0.7ms)[0m  SELECT 1 AS one FROM "beers" WHERE "beers"."name" = 'Karhu' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "beers" ("brewery_id", "created_at", "name", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["brewery_id", 1], ["created_at", Sun, 16 Feb 2014 17:44:09 UTC +00:00], ["name", "Karhu"], ["style", "Lager"], ["updated_at", Sun, 16 Feb 2014 17:44:09 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.7ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 16 Feb 2014 17:44:09 UTC +00:00], ["password_digest", "$2a$04$MrH2Ffyr02Hr3v3MUYAOKefqOsA15spN2E4fEeqwNLN5EkxSOhwSG"], ["updated_at", Sun, 16 Feb 2014 17:44:09 UTC +00:00], ["username", "Pekka"]]
  [1m[35m (1.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/signin" for 127.0.0.1 at 2014-02-16 19:44:10 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.erb within layouts/application (3.8ms)
Completed 200 OK in 12ms (Views: 10.9ms | ActiveRecord: 0.0ms)
Started POST "/sessions" for 127.0.0.1 at 2014-02-16 19:44:10 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"Pekka", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
Redirected to http://www.example.com/users/1
Completed 302 Found in 12ms (ActiveRecord: 0.2ms)
Started GET "/users/1" for 127.0.0.1 at 2014-02-16 19:44:10 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  Rendered users/show.html.erb within layouts/application (10.4ms)
Completed 500 Internal Server Error in 18ms
  [1m[35m (6.5ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (2.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mBrewery Exists (0.6ms)[0m  [1mSELECT 1 AS one FROM "breweries" WHERE "breweries"."name" = 'Koff' LIMIT 1[0m
  [1m[35mSQL (1.5ms)[0m  INSERT INTO "breweries" ("created_at", "name", "updated_at", "year") VALUES (?, ?, ?, ?)  [["created_at", Sun, 16 Feb 2014 17:44:10 UTC +00:00], ["name", "Koff"], ["updated_at", Sun, 16 Feb 2014 17:44:10 UTC +00:00], ["year", 1900]]
  [1m[36m (1.6ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mBeer Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "beers" WHERE "beers"."name" = 'iso 3' LIMIT 1[0m
  [1m[35mSQL (3.2ms)[0m  INSERT INTO "beers" ("brewery_id", "created_at", "name", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["brewery_id", 1], ["created_at", Sun, 16 Feb 2014 17:44:10 UTC +00:00], ["name", "iso 3"], ["style", "Lager"], ["updated_at", Sun, 16 Feb 2014 17:44:10 UTC +00:00]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mBeer Exists (1.4ms)[0m  [1mSELECT 1 AS one FROM "beers" WHERE "beers"."name" = 'Karhu' LIMIT 1[0m
  [1m[35mSQL (8.3ms)[0m  INSERT INTO "beers" ("brewery_id", "created_at", "name", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["brewery_id", 1], ["created_at", Sun, 16 Feb 2014 17:44:10 UTC +00:00], ["name", "Karhu"], ["style", "Lager"], ["updated_at", Sun, 16 Feb 2014 17:44:10 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)  [["created_at", Sun, 16 Feb 2014 17:44:10 UTC +00:00], ["password_digest", "$2a$04$9yuIsl4FKmSk9y.8XyyKmuPcl5ggWjgKoe0aEhpf0N/TXh.P4cgW6"], ["updated_at", Sun, 16 Feb 2014 17:44:10 UTC +00:00], ["username", "Pekka"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/signin" for 127.0.0.1 at 2014-02-16 19:44:10 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.erb within layouts/application (1.1ms)
Completed 200 OK in 11ms (Views: 10.5ms | ActiveRecord: 0.0ms)
Started POST "/sessions" for 127.0.0.1 at 2014-02-16 19:44:10 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"Pekka", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[35mUser Load (2.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
Redirected to http://www.example.com/users/1
Completed 302 Found in 12ms (ActiveRecord: 2.5ms)
Started GET "/users/1" for 127.0.0.1 at 2014-02-16 19:44:10 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  Rendered users/show.html.erb within layouts/application (10.4ms)
Completed 500 Internal Server Error in 24ms
  [1m[36m (4.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36m (0.6ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBrewery Exists (2.0ms)[0m  SELECT 1 AS one FROM "breweries" WHERE "breweries"."name" = 'Koff' LIMIT 1
  [1m[36mSQL (8.4ms)[0m  [1mINSERT INTO "breweries" ("created_at", "name", "updated_at", "year") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 16 Feb 2014 17:44:10 UTC +00:00], ["name", "Koff"], ["updated_at", Sun, 16 Feb 2014 17:44:10 UTC +00:00], ["year", 1900]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBeer Exists (0.2ms)[0m  SELECT 1 AS one FROM "beers" WHERE "beers"."name" = 'iso 3' LIMIT 1
  [1m[36mSQL (1.8ms)[0m  [1mINSERT INTO "beers" ("brewery_id", "created_at", "name", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["brewery_id", 1], ["created_at", Sun, 16 Feb 2014 17:44:10 UTC +00:00], ["name", "iso 3"], ["style", "Lager"], ["updated_at", Sun, 16 Feb 2014 17:44:10 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBeer Exists (0.3ms)[0m  SELECT 1 AS one FROM "beers" WHERE "beers"."name" = 'Karhu' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "beers" ("brewery_id", "created_at", "name", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["brewery_id", 1], ["created_at", Sun, 16 Feb 2014 17:44:10 UTC +00:00], ["name", "Karhu"], ["style", "Lager"], ["updated_at", Sun, 16 Feb 2014 17:44:10 UTC +00:00]]
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 16 Feb 2014 17:44:10 UTC +00:00], ["password_digest", "$2a$04$28w8GVSWmsHdVVs2Gmdok.14LI7//qom32lPzApgo1yF.Nl2777a6"], ["updated_at", Sun, 16 Feb 2014 17:44:10 UTC +00:00], ["username", "Pekka"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/signin" for 127.0.0.1 at 2014-02-16 19:44:10 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.erb within layouts/application (1.7ms)
Completed 200 OK in 14ms (Views: 12.3ms | ActiveRecord: 0.0ms)
Started POST "/sessions" for 127.0.0.1 at 2014-02-16 19:44:10 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"Pekka", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
Redirected to http://www.example.com/users/1
Completed 302 Found in 11ms (ActiveRecord: 0.2ms)
Started GET "/users/1" for 127.0.0.1 at 2014-02-16 19:44:10 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  Rendered users/show.html.erb within layouts/application (14.8ms)
Completed 500 Internal Server Error in 19ms
  [1m[35m (3.8ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mBrewery Exists (0.7ms)[0m  [1mSELECT 1 AS one FROM "breweries" WHERE "breweries"."name" = 'Koff' LIMIT 1[0m
  [1m[35mSQL (4.1ms)[0m  INSERT INTO "breweries" ("created_at", "name", "updated_at", "year") VALUES (?, ?, ?, ?)  [["created_at", Sun, 16 Feb 2014 17:44:10 UTC +00:00], ["name", "Koff"], ["updated_at", Sun, 16 Feb 2014 17:44:10 UTC +00:00], ["year", 1900]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mBeer Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "beers" WHERE "beers"."name" = 'iso 3' LIMIT 1[0m
  [1m[35mSQL (9.4ms)[0m  INSERT INTO "beers" ("brewery_id", "created_at", "name", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["brewery_id", 1], ["created_at", Sun, 16 Feb 2014 17:44:10 UTC +00:00], ["name", "iso 3"], ["style", "Lager"], ["updated_at", Sun, 16 Feb 2014 17:44:10 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mBeer Exists (0.6ms)[0m  [1mSELECT 1 AS one FROM "beers" WHERE "beers"."name" = 'Karhu' LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "beers" ("brewery_id", "created_at", "name", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["brewery_id", 1], ["created_at", Sun, 16 Feb 2014 17:44:10 UTC +00:00], ["name", "Karhu"], ["style", "Lager"], ["updated_at", Sun, 16 Feb 2014 17:44:10 UTC +00:00]]
  [1m[36m (0.9ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (4.4ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)  [["created_at", Sun, 16 Feb 2014 17:44:10 UTC +00:00], ["password_digest", "$2a$04$Q3I2rDRYFkhopFJShwqa8ut3gQDFcHrjPaIw.aEBIAyIEoSXczF/W"], ["updated_at", Sun, 16 Feb 2014 17:44:10 UTC +00:00], ["username", "Pekka"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/signin" for 127.0.0.1 at 2014-02-16 19:44:10 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.erb within layouts/application (2.2ms)
Completed 200 OK in 13ms (Views: 11.9ms | ActiveRecord: 0.0ms)
Started POST "/sessions" for 127.0.0.1 at 2014-02-16 19:44:10 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"Pekka", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
Redirected to http://www.example.com/users/1
Completed 302 Found in 13ms (ActiveRecord: 0.5ms)
Started GET "/users/1" for 127.0.0.1 at 2014-02-16 19:44:10 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  Rendered users/show.html.erb within layouts/application (9.1ms)
Completed 500 Internal Server Error in 13ms
  [1m[36m (1.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (5.4ms)[0m  [1mINSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 16 Feb 2014 17:44:10 UTC +00:00], ["password_digest", "$2a$04$Bb5XualKA0pE8EKzAQfwY.ZY9.GAutROWOOLtyvGqJz/aKr/7L0T."], ["updated_at", Sun, 16 Feb 2014 17:44:10 UTC +00:00], ["username", "Pekka"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBrewery Exists (4.7ms)[0m  SELECT 1 AS one FROM "breweries" WHERE "breweries"."name" = 'Koff' LIMIT 1
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "breweries" ("created_at", "name", "updated_at", "year") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 16 Feb 2014 17:44:10 UTC +00:00], ["name", "Koff"], ["updated_at", Sun, 16 Feb 2014 17:44:10 UTC +00:00], ["year", 1900]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mBeer Exists (1.9ms)[0m  SELECT 1 AS one FROM "beers" WHERE "beers"."name" = 'iso 3' LIMIT 1
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "beers" ("brewery_id", "created_at", "name", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["brewery_id", 1], ["created_at", Sun, 16 Feb 2014 17:44:10 UTC +00:00], ["name", "iso 3"], ["style", "Lager"], ["updated_at", Sun, 16 Feb 2014 17:44:10 UTC +00:00]]
  [1m[35m (1.5ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (5.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (2.9ms)[0m  [1mINSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 16 Feb 2014 17:44:10 UTC +00:00], ["password_digest", "$2a$04$DFy/BmJrGTmoOE8P74vCBeeVV.i5rqPimy9/5nmOwK3o7d6thPFPe"], ["updated_at", Sun, 16 Feb 2014 17:44:10 UTC +00:00], ["username", "Pekka"]]
  [1m[35m (0.8ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (2.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (1.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.8ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
Binary data inserted for `string` type on column `password_digest`
  [1m[36mSQL (9.6ms)[0m  [1mINSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)[0m  [["created_at", Sun, 16 Feb 2014 17:44:10 UTC +00:00], ["password_digest", "$2a$04$TmPlH71Gmy/7s.k0oVZaxOlJcTxTIC77Sa3u63lyvWBPoth5LP5Pq"], ["updated_at", Sun, 16 Feb 2014 17:44:10 UTC +00:00], ["username", "Pekka"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/signin" for 127.0.0.1 at 2014-02-16 19:44:10 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.erb within layouts/application (1.8ms)
Completed 200 OK in 20ms (Views: 19.0ms | ActiveRecord: 0.0ms)
Started POST "/sessions" for 127.0.0.1 at 2014-02-16 19:44:10 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"Pekka", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
Redirected to http://www.example.com/signin
Completed 302 Found in 10ms (ActiveRecord: 0.5ms)
Started GET "/signin" for 127.0.0.1 at 2014-02-16 19:44:10 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.erb within layouts/application (6.2ms)
Completed 200 OK in 15ms (Views: 13.7ms | ActiveRecord: 0.0ms)
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (6.6ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
Binary data inserted for `string` type on column `password_digest`
  [1m[35mSQL (9.6ms)[0m  INSERT INTO "users" ("created_at", "password_digest", "updated_at", "username") VALUES (?, ?, ?, ?)  [["created_at", Sun, 16 Feb 2014 17:44:10 UTC +00:00], ["password_digest", "$2a$04$/w9kG6sbnn.5B.Ust8Ax2.jRszTH7I6IGG6Qx7.R.InagQly1y.b."], ["updated_at", Sun, 16 Feb 2014 17:44:10 UTC +00:00], ["username", "Pekka"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/signin" for 127.0.0.1 at 2014-02-16 19:44:11 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.erb within layouts/application (12.6ms)
Completed 200 OK in 20ms (Views: 19.2ms | ActiveRecord: 0.0ms)
Started POST "/sessions" for 127.0.0.1 at 2014-02-16 19:44:11 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"Pekka", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[35mUser Load (1.8ms)[0m  SELECT "users".* FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
Redirected to http://www.example.com/users/1
Completed 302 Found in 15ms (ActiveRecord: 1.8ms)
Started GET "/users/1" for 127.0.0.1 at 2014-02-16 19:44:11 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35m (1.5ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  Rendered users/show.html.erb within layouts/application (11.7ms)
Completed 500 Internal Server Error in 18ms
  [1m[36m (3.0ms)[0m  [1mrollback transaction[0m
